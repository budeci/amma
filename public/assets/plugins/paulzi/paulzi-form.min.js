/**
 * @see https://github.com/paulzi/paulzi-form
 * @license MIT (https://github.com/paulzi/paulzi-form/blob/master/LICENSE)
 * @version 2.5.2
 */
!function(e,a){"function"==typeof define&&define.amd?define(["jquery"],a):a(e.jQuery)}(this,function(e){var a=function(a){var t=a.find("output, .form-output").first(),r=a.data("formOutput");return r&&(t=e(r)),t},t=function(a){return-1!==e.inArray(a.prop("tagName"),["INPUT","BUTTON"])&&a.attr("type")&&-1!==e.inArray(a.attr("type").toLowerCase(),["submit","image"])};e.fn.formAlert=function(t,r,n){var o=e(this),i=e(n?t:e.parseHTML(t,!0));return i.hasClass("alert")||(r=r||"info",i=e('<div role="alert" class="alert alert-'+r+'">').append(i)),e.fn.alert&&!i.hasClass("alert-dismissible")&&(i.addClass("alert-dismissible"),e('<button type="button" class="close" aria-label="close" data-dismiss="alert">').html('<span aria-hidden="true">&times;</span>').prependTo(i)),i.addClass("fade in").appendTo(a(o)),i},e(document).on("click",function(a){document.activeElement===document.body&&t(e(a.target))&&e(a.target).focus()});var r=function(a){if(a.isDefaultPrevented())return!1;var r=e(this);if(r.hasClass("form-loading")&&!r.hasClass("form-no-block"))return a.preventDefault(),!1;r.addClass("form-loading");var n=e(document.activeElement).filter(".btn-loading");t(n)||(n=r.find(".btn-loading.btn-submit-default")),n.addClass("disabled");var o=n.attr("data-loading-text");o&&(n.data("paulziFormLoadingText",n.html()),n.html(o));var i=n.data("loadingIcon");i&&(e("<span>&nbsp;</span>").addClass("btn-loading-space").prependTo(n),e("<i>").addClass("btn-loading-icon").addClass(i).prependTo(n))},n=function(a){var t=e(this).find(".btn-loading.disabled");t.removeClass("disabled"),t.children(".btn-loading-icon, .btn-loading-space").remove(),t.each(function(){var a=e(this),t=a.data("paulziFormLoadingText");t&&a.html(t)})};e(document).on("submit.paulzi-form","form",r),e(document).on("formajaxalways.paulzi-form",".form-ajax",n);var o,i=["action","enctype","method","target"],d="paulzi-form-polyfill",s=d+"-disabled",l=function(){if("undefined"!=typeof o)return o;var e=document.createElement("input"),a=document.createElement("form"),t="paulzi-form-support";return a.id=t,document.body.appendChild(a),document.body.appendChild(e),e.setAttribute("form",t),o=e.form===a,document.body.removeChild(a),document.body.removeChild(e),o},m=function(){var e=document.createElement("input");return!!("formAction"in e)},u=function(a){var r=this,n=e(this);if(!l()){var o,u=n.attr("id");o=n.find("[form]").not(":disabled"),u&&(o=o.not('[form="'+u+'"]')),o.addClass(s).prop("disabled",!0),u&&e('[form="'+u+'"]').not("form#"+u+' [form="'+u+'"]').filter(function(){return this.name&&!e(this).is(":disabled")&&(this.checked||"checkbox"!==this.type&&"radio"!==this.type)}).each(function(){e('<input type="hidden">').attr("name",this.name).val(e(this).val()).addClass(d).appendTo(r)})}if(!m()){var f=e(document.activeElement);t(f)&&e.each(i,function(e,a){var t=f.attr("form"+a);t&&n.data("paulziFormPolyfill"+a,t).attr(a,t)})}},f=function(a){var t=e(this);l()||(t.find("."+d).remove(),t.find("."+s).removeClass(s).prop("disabled",!1)),m()||e.each(i,function(e,a){var r="paulziFormPolyfill"+a,n=t.data(r);n&&t.attr(a,n).removeData(r)})};e(document).on("submit.paulzi-form","form",u),e(document).on("formajaxalways.paulzi-form","form",f);var p="paulzi-form-no-empty-item",c=function(a){return e(this).find(":enabled").filter(function(){return""==this.value}).addClass(p).prop("disabled",!0),!0},v=function(a){e(this).find("."+p).removeClass(p).prop("disabled",!1)};e(document).on("submit.paulzi-form",".form-no-empty",c),e(document).on("formajaxalways.paulzi-form",".form-no-empty",v);var b=function(a){var t=e(this).offset();e(this).prop("paulziFormX",Math.round(a.pageX-t.left)).prop("paulziFormY",Math.round(a.pageY-t.top))},h=function(r){if(r.isDefaultPrevented())return!1;if(e(document.activeElement).hasClass("btn-no-ajax"))return!0;r.preventDefault();var n=e(this),o=function(e){var a=e.getResponseHeader("X-Redirect");return a?(document.location.href=a,!0):!1},i="multipart/form-data"==n.attr("enctype")&&"function"==typeof e.fn.ajaxSubmit,d=function(t,r,d){var s=jQuery.Event("formajaxdone");if(n.trigger(s,arguments),!s.isDefaultPrevented()&&!o(d)&&(i||/^text\/html(;|$)/.test(d.getResponseHeader("Content-Type")))){var l=e(e.parseHTML(t,!0));if(n.trigger("contentprepare",[l]),l.hasClass("form-replace"))n.replaceWith(l),n=l;else{var m=a(n),u=l.data("formOutput");u&&(m=e(u)),l.hasClass("alert")&&(l=n.formAlert(l,!1,!0)),m.html(l)}n.trigger("contentinit",[l])}},s=function(a,t,r){var i=jQuery.Event("formajaxfail");if(n.trigger(i,arguments),!i.isDefaultPrevented()&&!o(a)){var d=!1;a.responseText&&(d=e(e.parseHTML(a.responseText,!0))),d&&d.hasClass("alert")?n.formAlert(d,!1,!0):(d=["["+t+"]",r,a.responseText].join("<br>"),n.formAlert(d,"danger"))}},l=function(){var e=jQuery.Event("formajaxalways");n.trigger(e,arguments),e.isDefaultPrevented()||n.removeClass("form-loading")},m=function(e,a){var t=jQuery.Event("formajaxbefore");return n.trigger(t,[e,a]),!t.isDefaultPrevented()},u=jQuery.Event("formajaxbeforeparams");if(n.trigger(u),!u.isDefaultPrevented()){if(i)n.ajaxSubmit({beforeSubmit:function(e,a,t){t.beforeSend=m},success:d,error:s,complete:l,data:{"X-Requested-With":"XMLHttpRequest"},uploadProgress:function(e){var a=0,t=e.loaded||e.position,r=e.total;e.lengthComputable&&(a=t/r*100),n.trigger("formajaxprogress",[t,r,a])}});else{var f,p=n.attr("action"),c=n.attr("method")||"GET",v=n.serializeArray(),b=e(document.activeElement),h=!b.is(":disabled")&&t(b);h&&((f=b.attr("formaction"))&&(p=f),(f=b.attr("formmethod"))&&(c=f),b.attr("name")&&(f=b.prop("paulziFormX"),"number"==typeof f?(v.push({name:b.attr("name")+".x",value:f}),b.removeProp("paulziFormX")):v.push({name:b.attr("name"),value:b.val()}),f=b.prop("paulziFormY"),"number"==typeof f&&(v.push({name:b.attr("name")+".y",value:f}),b.removeProp("paulziFormY")))),e.ajax({method:c,url:p,data:v,beforeSend:m}).done(d).fail(s).always(l)}return!1}};e(document).on("click.paulzi-form",'input[type="image"]',b),e(document).on("submit.paulzi-form",".form-ajax",h);var g="paulzi-form-scenario-disabled",y=function(a){return e(this).find(".form-on-none, .form-on-ajax").find(":enabled").addBack(":enabled").addClass(g).prop("disabled",!0),!0},C=function(a){return e(this).find(".form-on-none, .form-on-submit").find(":enabled").addBack(":enabled").addClass(g).prop("disabled",!0),!0},x=function(a){e(this).find("."+g).removeClass(g).prop("disabled",!1)};e(document).on("submit.paulzi-form",y),e(document).on("formajaxbeforeparams.paulzi-form",C),e(document).on("formajaxalways.paulzi-form",x)});